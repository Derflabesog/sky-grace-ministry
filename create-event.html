<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Create Event | Sky Grace Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-slate-50 flex min-h-screen">

    <!-- Admin Sidebar -->
    <div id="admin-sidebar-mount"></div>
    <script src="admin-sidebar.js" defer></script>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col min-w-0">
        
        <!-- Top Bar -->
        <header class="bg-white border-b border-slate-200 h-16 flex items-center justify-between px-8 sticky top-0 z-30">
            <div class="flex items-center gap-4">
                <button class="md:hidden text-slate-500 text-xl" aria-label="Open menu"><i class="fas fa-bars" aria-hidden="true"></i></button>
                <h2 class="font-bold text-slate-700 text-lg">Create New Event</h2>
            </div>
            <div class="flex items-center gap-4">
                <a href="manage-events.html" class="text-xs font-bold text-slate-400 hover:text-blue-600 transition uppercase tracking-widest"><i class="fas fa-arrow-left mr-1"></i> Back to Events</a>
                <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-lg shadow-blue-200">AP</div>
            </div>
        </header>

        <main class="p-8 max-w-5xl mx-auto w-full">
            <form id="createEventForm" class="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden">
                <!-- Cover Image Upload -->
                <div class="w-full h-64 bg-slate-50 flex flex-col items-center justify-center border-b border-slate-100 group cursor-pointer hover:bg-slate-100 transition relative">
                    <input type="file" class="absolute inset-0 opacity-0 cursor-pointer" accept="image/*" aria-label="Upload Event Banner">
                    <i class="fas fa-image text-slate-300 text-4xl mb-2 group-hover:text-blue-400 transition"></i>
                    <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest group-hover:text-blue-500 transition">Upload Event Banner</p>
                </div>

                <div class="p-10 space-y-8">
                    <!-- Title Input -->
                    <input type="text" id="eventTitle" placeholder="Event Name..." required
                           class="w-full text-4xl font-black text-slate-900 placeholder-slate-300 focus:outline-none border-none leading-tight bg-transparent">
                    
                    <!-- Meta Controls -->
                    <div class="grid md:grid-cols-2 gap-6 border-y border-slate-50 py-6">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[10px] font-black uppercase text-slate-400 mb-2">Date & Time</label>
                                <div class="flex gap-2">
                                    <input type="date" id="eventDate" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-400 transition" required aria-label="Event Date">
                                    <input type="time" id="eventTime" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-400 transition" required aria-label="Event Time">
                                </div>
                            </div>
                            <div>
                                <label class="block text-[10px] font-black uppercase text-slate-400 mb-2">Location</label>
                                <input type="text" id="eventLocation" placeholder="e.g. Windhoek Main Hall" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-400 transition" required>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[10px] font-black uppercase text-slate-400 mb-2">Event Type</label>
                                <select id="eventType" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-400 transition cursor-pointer" aria-label="Event Type">
                                    <option>Conference</option>
                                    <option>Seminar</option>
                                    <option>Service</option>
                                    <option>Outreach</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-[10px] font-black uppercase text-slate-400 mb-2">Registration</label>
                                <select class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-blue-400 transition cursor-pointer" aria-label="Registration Type">
                                    <option>Free Entry</option>
                                    <option>Ticketed</option>
                                    <option>Registration Required</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Description Area -->
                    <div>
                        <label class="block text-[10px] font-black uppercase text-slate-400 mb-2">Event Description</label>
                        <textarea id="eventDescription" rows="6" placeholder="Describe the event details..." required
                                  class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-600 leading-relaxed focus:outline-none focus:border-blue-400 transition resize-none"></textarea>
                    </div>
                </div>

                <!-- Action Bar -->
                <div class="bg-slate-50 p-6 border-t border-slate-100 flex justify-between items-center">
                    <p class="text-xs text-slate-400 font-bold italic">Draft saved automatically</p>
                    <div class="flex gap-3">
                        <button type="button" class="px-6 py-3 rounded-xl text-xs font-black uppercase text-slate-500 hover:bg-slate-200 transition">Save Draft</button>
                        <button type="submit" class="bg-blue-600 text-white px-8 py-3 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-blue-700 transition shadow-lg shadow-blue-200">
                            Publish Event
                        </button>
                    </div>
                </div>
            </form>
        </main>
    </div>

    <script>
        document.getElementById('createEventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const location = document.getElementById('eventLocation').value;
            const type = document.getElementById('eventType').value;
            
            // Format date for display
            const dateObj = new Date(date);
            const formattedDate = dateObj.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            
            // Create event object
            const newEvent = {
                id: Date.now(),
                title: title,
                date: formattedDate,
                time: time,
                location: location,
                type: type,
                status: 'Published'
            };

            // Save to LocalStorage (mock database)
            let events = JSON.parse(localStorage.getItem('ministryEvents')) || [];
            events.unshift(newEvent);
            localStorage.setItem('ministryEvents', JSON.stringify(events));

            // Redirect
            alert('Event published successfully!');
            window.location.href = 'manage-events.html';
        });
    </script>
<div id="site-footer"></div>
<script src="./footer.js" defer></script>
</body>
</html>